<!--begin::Summary-->
<div class="card card-flush h-lg-100">
    <!--begin::Card header-->
    <div class="card-header mt-6">
        <!--begin::Card title-->
        <div class="card-title flex-column">
            <h3 class="fw-bold mb-1">Form Builder</h3>
            <div class="fs-6 fw-semibold text-gray-500">24 Overdue Tasks</div>
        </div>
        <!--end::Card title-->
        <!--begin::Card toolbar-->
        <div class="card-toolbar">
            <button type="button" class="btn btn-sm btn-light me-3" data-bs-toggle="modal" data-bs-target="#embedModal">Embed</button>
            <button type="button" class="btn btn-sm btn-light-primary" data-bs-toggle="modal" data-bs-target="#formFieldModal">New Form Field</button>
        </div>
        <!--end::Card toolbar-->
    </div>
    <!--end::Card header-->
    <!--begin::Card body-->
    <div class="card-body p-9 pt-5">
        <div class="row">
            <% @form.form_fields.each do |field| %>
                <div class="mb-3 col-12 col-md-<%= field.col_width %>">
                    <%= form_field(field) %>
                    <input type="hidden" id="response[<%= field.field_id %>][field_type]" name="response[<%= field.field_id %>][field_type]" value="<%= field.field_type %>" />
                    <input type="hidden" id="response[<%= field.field_id %>][name]" name="response[<%= field.field_id %>][name]" value="<%= field.name %>" />
                </div>
            <% end %>
        </div>
        <button class="btn btn-primary">Submit</button>
    </div>
    <!--end::Card body-->
</div>
<!--end::Summary-->

<!-- begin::Form Field Modal -->
<div class="modal fade" id="formFieldModal" tabindex="-1" aria-labelledby="formFieldModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="formFieldModalLabel">Form Field</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <%= form_tag(create_form_field_path(params[:project_apikey], @form.apikey)) do %>
                <div class="modal-body">
                    <label class="required form-label">Name</label>
                    <input type="text" id="name" name="name" class="form-control mb-2" placeholder="Name" value="" required />

                    <p><label for="label_as_placeholder">
                        <input type="checkbox" id="label_as_placeholder" name="label_as_placeholder" />
                        Use field name as placeholder and hide field label
                    </label></p>

                    <label class="required form-label">Placeholder</label>
                    <input type="text" id="placeholder" name="placeholder" class="form-control mb-2" placeholder="Placeholder" value="" />

                    <label class="required form-label">Type</label>
                    <select class="form-control mb-2" id="field_type" name="field_type">
                        <% FormField::TYPES.each do |key, type| %>
                            <option value="<%= key %>" data-has-children="<%= type[:has_children] %>"><%= type[:name] %></option>
                        <% end %>
                    </select>

                    <div id="form-field-children" class="col-12 col-md-6 mb-3"></div>

                    <label class="form-label" for="col_width">Column width</label>
                    <select class="form-control mb-2" id="col_width" name="col_width">
                        <option value="12">Full width</option>
                        <option value="6">1/2</option>
                        <option value="4">1/3</option>
                        <option value="3">1/4</option>
                    </select>

                    <p><label for="required">
                        <input type="checkbox" id="required" name="required" />
                        Required?
                    </label></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save changes</button>
                </div>
            <% end %>
        </div>
    </div>
</div>
<!-- end::Form Field Modal -->
<!-- begin::Embed Modal -->
<div class="modal fade" id="embedModal" tabindex="-1" aria-labelledby="embedModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="embedModalLabel">Embed</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            <pre><code>&lt;p&gt;Sample text here...&lt;/p&gt;
            &lt;p&gt;And another line of sample text here...&lt;/p&gt;
            </code></pre>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
<!-- end::Embed Modal -->